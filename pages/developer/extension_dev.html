---
layout: default
title: Developer Guide
description: AbanteCart Extension’s Developer Guide
tags: [
    ['architecture', 'AbanteCart Architecture']
]
redirect_from: "/tag/extension_dev.html"
---

<div class="category-info helper pt40">
	<h3 class="category-title">AbanteCart Extension’s Developer Guide</h3>
	<h4 class="category-description"> 
	</h4>
	<p>
	The extension subsystem of the AbanteCart is an essential part of shopping cart application. Extensions allow efficient way to add new features to the cart and allow scalability and flexibility of ecommerce application.
The extension subsystem of the AbanteCart allows shopping cart project grow indefinitely together with rapidly changing technologies, standards and techniques.<br>
Lots of effort lays on the development of the system and extensions to allow shopping cart administrators and owners smooth and worry free cart experience.<br>
Extension can be installed and managed in the control panel of AbanteCart. If you use market place to purchase extensions inside the control panel, extensions are downloaded and installed seamlessly without leaving your control panel and web browser. <br>
Our extension architecture is partially based on Plexus API concept (http://code.google.com/p/phpplexus/ ) and blend with our own concepts described below. 
	</p>
</div>

<div class="note js-note blue-light">
	<h4 class="note-title">Document Content</h4>
	<ul>
	<li class="toclevel-1 tocsection-1"><a href="#glossary"> <span class="toctext">Glossary</span></a></li>
	<li class="toclevel-1 tocsection-2"><a href="#basic"> <span class="toctext">Basic architecture and structure of the extension subsystem.</span></a></li>
	<li class="toclevel-1 tocsection-3"><a href="#files"> <span class="toctext">Files and directory structure</span></a></li>
	<li class="toclevel-1 tocsection-4"><a href="#configuration"> <span class="toctext">Extension configuration file</span></a></li>
	<li class="toclevel-1 tocsection-5"><a href="#validation"><span class="toctext">Settings Values Validation</span></a></li>
	<li class="toclevel-1 tocsection-6"><a href="#driver"><span class="toctext">Main driver file for extension</span></a></li>
	<li class="toclevel-1 tocsection-7"><a href="#install"><span class="toctext">Install or Uninstall scripts</span></a></li>
	<li class="toclevel-1 tocsection-8"><a href="#languages"><span class="toctext">Languages</span></a></li>
	<li class="toclevel-1 tocsection-9"><a href="#hooks"><span class="toctext">Hooks</span></a></li>
	<li class="toclevel-1 tocsection-10"><a href="#examples"><span class="toctext">Basic examples</span></a></li>
	<li class="toclevel-1 tocsection-11"><a href="#hooks"><span class="toctext">Hooks Template Variables</span></a></li>
	<li class="toclevel-1 tocsection-12"><a href="#process"><span class="toctext">Extension Process flow</span></a></li>
	<li class="toclevel-1 tocsection-13"><a href="#additional"><span class="toctext">Additional scripts and styles for extensions</span></a></li>
	<li class="toclevel-1 tocsection-14"><a href="#rl"><span class="toctext">Resource Library</span></a></li>
	<li class="toclevel-1 tocsection-15"><a href="#rlexample"><span class="toctext">Example of extension that use resource library</span></a></li>
	<li class="toclevel-1 tocsection-16"><a href="#listingblock"><span class="toctext">Example of extension with listing block wrapper (appearance controller)</span></a></li>
	<li class="toclevel-1 tocsection-17"><a href="#package"><span class="toctext">Package extension for distribution</span></a></li>
	</ul>
</div>




<div class="category-info helper">
	<h4 id="glossary" class="box-title">Glossary</h4>
	<p class="box-description">
<b>Extension</b> &ndash;  Collection of  directories and files under one main directory  that can be added to shopping cart to offer additional feature or function.  Extension can be enabled and configured in the admin of shopping cart application<br>
<b>Extension Configuration</b> &ndash; Collection of settings that can control the extension functionality of behavior.  Configuration can be default (provided with the original installation of the extension) and custom, after installation once admin user change the settings.<br>
<b>Hook</b> &ndash; This is the tool used in extension subsystem to connect extension to particular section in application.<br>
<b>Core Hook</b> &ndash; This is the hook to the core function of application that allows extending functionality, effect data structures and values.
<b>Template Hook</b> -  This is the hook to extend display of the particular page on the front end or admin.  This is usually implemented within template file.<br>
<b>Dataset</b> - Ability to save, access and manage data specific for extension. See more details later on.
</p>
</div>






<div class="category-info helper">
	<h4 id="basic" class="box-title">Basic architecture and structure of the extension subsystem. </h4>
	<p class="box-description">
This paragraph to give you a generic idea about AbanteCart extension system and organization.<br>
AbanteCart architecture is designed around flexibility and expandability in mind. We believe that application architecture should provide sufficient flexibility to be able extended with new features and configured or adjusted to rapidly changing technology. To do so we introduce concept of fully extension based system and empower developers to create extensions for any new features or functionality.<br>
Extension can be installed and managed in the control panel of the AbanteCart. Marketplace is available to purchase, download and install extensions right in the control panel. In addition, any AbanteCart extension can be installed manually by simple upload of extension folder to AbanteCart and easy activation process.<br>
Extension itself is a collection of files that modify or add functionality of AbanteCart. Extension files include installation scripts, configuration settings, extension MVC file.<br>
Dependency concept is present to make sure that dependent extensions are installed to make extensions that depend on them work properly. 
Important stages in extension to understand:<br>
<b>Extension load:</b> This is the step of getting extension directory (content with files) in to the AbanteCart extensions directory. This is essential before step before you can install and use extension.<br>
<b>Extension Installation:</b>  This is a process of loading extension configuration to the system and making extension visible to the system. This stage does dependency validation and error checking. Install script provided in the extension is executed. Note: Installation is not to be confused with downloading extension or loading extension to the directory. This is done prior to installation. This step also allows you to edit extension configuration and settings.<br>
<b>Enable Extension:</b> This is a step to activate extension. Once extension is enabled it will be used by the system.
<b>Uninstall Extension:</b> It is important to understand this step. If you decide no longer to use given extension you can uninstall it. This step will completely remove all the settings and data used by the extension. Uninstall script provided in the extension is executed. Consider backup.<br>
<b>Delete Extension:</b> This is a step to remove extension components from the directory. Note: delete can only be done if extension is uninstalled.
</p>
</div>








<div class="category-info helper">
	<h4 id="files" class="box-title">Files and directory structure </h4>
	<p class="box-description">
All Extensions are located in <b>extensions</b> folder. Bellow is the set of files and directories  that represent one extension.<br>
/extensions/[extension unique name]<br>
/extensions/[extension unique name]/config.xml<br>
/extensions/[extension unique name]/core/<br>
/extensions/[extension unique name]/admin/<br>
/extensions/[extension unique name]/storefront/<br>
/extensions/[extension unique name]/main.php<br>
<b>config.xml</b> - Required configuration xml file with settings for given extension.<br>
<b>main.php</b> - Required file that contain init instructions for extension.<br>
<b>admin</b> - admin directory structure and contain files for admin section (directory structure under this directory resembles main admin directory for AbaneteCart)<br>
<b>storefront</b> - storefront directory structure and contain files for storefront section (directory structure under this directory resembles main storefront directory for AbaneteCart)<br>
<b>core</b> - directory that contain some core addon classes that implement additional functionality ( if needed )<br>
<b>install.sql</b> - optional file that contain SQL instructions for extension install<br>
<b>uninstall.sql</b> - optional file that contain SQL  instructions for extension uninstall<br>
<b>install.php</b> - optional file that contain PHP code for extension installation process<br>
<b>uninstall.php</b> - optional file that contain PHP code for extension uninstall process<br>
<i>Note: you can use PHP or SQL or mixed depending on the requirents.</i>
</p>


<p><img width="650" height="603" src="/img/developer/extensions.png" alt="Directory structure">
</p>

<p><b>Pre-install actions - validation</b><br>
Extensions are installed in control panel from Extension Manager section. Before installation there following checks are performed:
<ul><li> - check available space
</li><li> - is extensions directory writable
</li><li> - was extension already installed ( extension upgrade )
</li><li> - does extension support used core version
</li><li> - does hosting support all php modules used by extension
</li><li> - does extension override some controllers/ template files that already overridden by another extension. if two or more extensions override completely same files there will be a conflict, so high priority extension will be used. But, there will be warning in the install about conflict.
</li></ul></p>


<p><b>Post-install actions</b>
<ul><li> - check all files list and sizes
</li><li> - run install process
</li></ul>
</p>
</div>